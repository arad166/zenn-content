---
title: "GitHub„Éó„É≠„Éï„Ç£„Éº„É´Áî®„ÅÆ„Ç¢„Çπ„Ç≠„Éº„Ç¢„Éº„ÉàQuine„Çí‰Ωú„Å£„Åü"
emoji: "üêü"
type: "tech" # tech: ÊäÄË°ìË®ò‰∫ã / idea: „Ç¢„Ç§„Éá„Ç¢
topics: ["ruby","quine","„Ç¢„Çπ„Ç≠„Éº„Ç¢„Éº„Éà"]
published: true
---
# ‰Ωú„Å£„Åü„ÇÇ„ÅÆ
```ruby:quine.rb
eval$s=%w(s=%(eval$s=%w(#{$s})*"");f=->n{s.slice!(0,n)};fish="#70@#23H
23#24@#18A34#18@#14R12#                       8A22#14@#11D12#11A25#11@
#9H12#12A28#9@#7R1                                  2#8A36#7@#5D13#6A4
1#5@#4H13#9A40            #4@#3R14                      #11A39#3@#2D14
#15A37#2@#2            H15#18A33#2                         @#R16#22A30
#@#D17#24            A27#@#H19#26                            A23#@#2R2
0#27A19            #2@#2D22                                    #27A17#
2@#3H             24#25A                                         15#3@
#4R2             9#20A13#4                                        @#5D
33#              14A13#5@#6H                                       57#
7@              #8A54#8@#11R48#                                     11
@#               13A44#13@#17D36#17                                 @#
                22A26#22@#70";output="                              
                 ";i=0;len=fish.size;i=0;                           
                   len.times{c=fish[i];if(c!=                       
'@                    '&&c!='#');j=i+1;len="";(fi                   sh
.s                      ize-j).times{|k|if(!(fish[j                 ]=
~/[                        0-9]/));break;end;len<<fi               sh[
j];j                             +=1;};count=len.to_i             ;pri
nt(32                                 .chr*count);i=             j;els
if(c==                                                         "@");pr
int("\n"                                                      );i+=1;e
lse;j=i+1;l                                                ="";(fish.s
ize-j).times{                                            |k|if(!(fish[
j]=~/[0-9]/));bre                                    ak;end;l<<fish[j]
;j+=1;};len=l.to_i;pri                          nt(f[len]);i=j;end;};p
uts();#This_program_is_a_Ruby_quine.___##arad166##Kento_Harada####)*""
```

![](/images/profile-quine/profile.png =300x)
*ÁßÅ„ÅÆ„Ç¢„Ç§„Ç≥„É≥*

Á∏¶„Å´‰º∏„Å≥„Å¶„ÅÑ„Çã„Çà„ÅÜ„Å´Ë¶ã„Åà„Åæ„Åô„Åå„ÄÅ[GitHub](https://github.com/arad166)„Åß„ÅØÊ≠£„Åó„ÅèË°®Á§∫„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ

# „Ç¢„Çπ„Ç≠„Éº„Ç¢„Éº„ÉàQuine„Å®„ÅØ

„Åæ„ÅöQuine„Å®„ÅØ„ÄÅËá™Ë∫´„ÅÆ„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„Å®Âêå„ÅòÊñáÂ≠óÂàó„ÇíÂá∫Âäõ„Åô„Çã„Éó„É≠„Ç∞„É©„É†„Åß„Åô„ÄÇ„Ç¢„Çπ„Ç≠„Éº„Ç¢„Éº„ÉàQuine„Å®„ÅØ„ÄÅQuine„Çí„Ç¢„Çπ„Ç≠„Éº„Ç¢„Éº„Éà„Å´„Åó„Åü„ÇÇ„ÅÆ„Åß„Åô„ÄÇË©≥„Åó„Åè„ÅØ‰ª•‰∏ã„ÅÆÂèÇËÄÉÊñáÁåÆ„Çí„ÅîË¶ß„Åè„Å†„Åï„ÅÑ„ÄÇ

**ÂèÇËÄÉÊñáÁåÆ**
ÈÅ†Ëó§ ‰æë‰ªã, „Äé„ÅÇ„Å™„Åü„ÅÆÁü•„Çâ„Å™„ÅÑË∂ÖÁµ∂ÊäÄÂ∑ß„Éó„É≠„Ç∞„É©„Éü„É≥„Ç∞„ÅÆ‰∏ñÁïå„Äè, ÊäÄË°ìË©ïË´ñÁ§æ, 2015Âπ¥, [Amazon](https://www.amazon.co.jp/o/ASIN/4774176435/gihyojp-22)

Ëá™ÂàÜ„ÅÆGitHub„ÅÆ„Éó„É≠„Éï„Ç£„Éº„É´„Å´„Åì„Çå„Åå„ÅÇ„Å£„Åü„ÇâÊ†ºÂ•ΩËâØ„ÅÑ„Å®ÊÄù„ÅÑ„ÄÅ‰Ωú„Å£„Å¶„Åø„Åæ„Åó„Åü„ÄÇË®ÄË™û„ÅØruby„Åß„Åô„ÄÇ

# ‰ΩúÊàêÈÅéÁ®ã

„Åæ„Åö„ÅØ„Ç¢„Ç§„Ç≥„É≥„ÅÆÁîªÂÉè„Çí„Ç¢„Çπ„Ç≠„Éº„Ç¢„Éº„Éà„Å´„Åó„ÇÑ„Åô„ÅÑ„Çà„ÅÜ„Å´Âä†Â∑•„Åó„Åæ„Åô„ÄÇ
„Éë„ÉØ„Éº„Éù„Ç§„É≥„Éà„ÅßÈ†ëÂºµ„Çä„Åæ„Åó„Åü„ÄÇ

![](/images/profile-quine/kakou.png)
*Âä†Â∑•Ââç/Âä†Â∑•Âæå*

ÊúÄÁµÇÁöÑ„Å´Ê≠£„Åó„ÅÑÁ∏¶Ê®™ÊØî„Å´„Å™„Çã„Çà„ÅÜ„Å´„Åô„Çã„Åü„ÇÅ„ÄÅ„Åì„ÅÆÊÆµÈöé„Åß„ÅØÂ∞ë„ÅóÊ®™„Å´‰º∏„Å∞„Åó„Å¶„ÅÑ„Åæ„Åô^[‰∏ÄÂ∫¶Ê≠£„Åó„ÅÑÁ∏¶Ê®™ÊØî„ÅßÁîªÂÉè„ÇíÂä†Â∑•„Åó„Åü„Çâ„ÄÅ„Ç¢„Çπ„Ç≠„Éº„Ç¢„Éº„Éà„ÅÆÁ∏¶Ê®™ÊØî„Åå„Åä„Åã„Åó„Åè„Å™„Çä„Åæ„Åó„Åü]„ÄÇ

„Åì„Çå„Çí[„Åì„Å°„Çâ„ÅÆ„Çµ„Ç§„Éà](https://tool-taro.com/image_to_ascii/)„Åß„Ç¢„Çπ„Ç≠„Éº„Ç¢„Éº„Éà„Å´„Åó„Åæ„Åô„ÄÇ

```
(mmmmmmmmmmmmmmmmmmmmmmmmmkkV7777????7777OXQmmmmmmmmmmmmmmmmmmmmmmmmm[
J@H@H@H@H@H@H@H@H@HMY"=`                      -?"WMH@H@H@H@H@H@H@H@H@]
JH@H@@@H@@@H@@H#"^                                  ?TM@H@@@H@@@H@@H@]
J@@H@HH@HH@HY=            ..kMMHa,                      ?WH@H@HH@H@@H]
J@H@H@@H@#"            .dHHHHHHHHF                         7MH@@H@H@H]
JH@H@HH#^            .MHHHHHHMW"^                            (HH@H@H@]
J@@H@M^            .HHHHMY"`         `                         ?M@H@@]
J@H@P             gHHHH|                `       `  `             4H@H]
JH@t             .HHHHHHN,                 `                      7H@]
J@t           `  dHHHHHHHHm,       `   `      `       `            OH]
JF      `  `    .HHH@HH@HHHHMa,                          `          W]
J!               OHHHHHHHHHHHHHHmJ.              `          `       ,]
J    `           .MHHHHHHHHHHHHHHHHHN,.  `  `       `          `     ]
(            `    .WHH@HH@HHHHHHHHHHHHHN&.             `             [
(       `           (MHHHHH@HHHHHHHHHHHHHHHMm, `          `      `   ]
J.         `   `      7HHHHHH@HH@HHHHHHHHHHHHHNa, `          `      .]
J]   `                  .YMHHHHHHH@HHHHHHHHHHHHHHN,  `              J]
J@,                        ?YHHHHHHH@HHHHHHHHHHHHHHL    `       `  .H]
JHN,    `   `  `    `            ?"HHHH@HHHHHHHHHHHH-      `      .H@]
J@HM,             `                   ?""WMMHH@HHHMY`         `  .H@H]
J@@HHh    `   `                                                .JH@@@]
JH@H@@M,         `    `  `  `                             `   .H@@HH@]
J@H@HH@HMx.  `     `            `                          ..H@@H@@HH]
J@@H@@H@H@Hh,                          `                 .dH@@H@HH@@@]
JH@H@H@H@H@H@HN..           `                        ..dH@@H@H@H@@HH@]
J@H@H@H@@H@@H@@HHHH+..         `             `  ..JdHH@H@H@@H@H@@H@@H]
J@H@H@HH@HH@H@H@@H@HHHHHHaJ................(gHH@H@H@H@H@H@HH@H@HH@HH@L
```

„Åì„Çå„Çí„Åï„Çâ„Å´Âä†Â∑•„Åó„Åæ„Åô„ÄÇ„Åæ„Åö„ÄÅ„Éê„ÉÉ„ÇØ„ÇØ„Ç™„Éº„Éà„Çí„Çπ„Éö„Éº„Çπ„ÅßÁΩÆÊèõ„Åó„Åæ„Åô„ÄÇ
```bash
cat ascii.csv | sed 's/`/ /g' > ascii2.csv
```
„Åï„Çâ„Å´„Çπ„Éö„Éº„Çπ‰ª•Â§ñ„ÅÆÈÉ®ÂàÜ„Çí`#`„ÅßÁΩÆÊèõ„Åó„Åæ„Åô„ÄÇ
```bash
cat ascii2.csv | sed 's/[^ ]/#/g' > ascii-sharp.csv
```
```
######################################################################
#######################                       ########################
##################                                  ##################
##############            ########                      ##############
###########            ###########                         ###########
#########            ############                            #########
#######            ########                                    #######
#####             ######                                         #####
####             #########                                        ####
###              ###########                                       ###
##              ###############                                     ##
##               ##################                                 ##
#                ######################                              #
#                 ########################                           #
#                   ##########################                       #
##                    ###########################                   ##
##                      ###########################                 ##
###                        #########################               ###
####                             ####################             ####
#####                                 ##############             #####
######                                                         #######
########                                                      ########
###########                                                ###########
#############                                            #############
#################                                    #################
######################                          ######################
######################################################################
```
Âá∫Êù•„Åü„ÇÇ„ÅÆ„Çí„É©„É≥„É¨„É≥„Ç∞„ÇπÂúßÁ∏Æ„Åó„Åæ„Åô„ÄÇ

:::details ÂúßÁ∏Æ„Ç¢„É´„Ç¥„É™„Ç∫„É†

```ruby
prev = nil
count = 0
result = ""
harada = %w(H A R A D A)
harada_idx = 0

ARGF.each_char do |c|
  if c == "\n"
    c = "@"
  end
  if c == prev
    count += 1
  else
    if prev
      if prev == " "
        result << harada[harada_idx]
        harada_idx = (harada_idx + 1) % harada.size
        result << (count > 1 ? count.to_s : "")
      else
        result << (count > 1 ? "#{prev}#{count}" : prev)
      end
    end
    prev = c
    count = 1
  end
end
if prev
  if prev == " "
    result << harada[harada_idx]
    harada_idx = (harada_idx + 1) % harada.size
    result << (count > 1 ? count.to_s : "")
  else
    result << (count > 1 ? "#{prev}#{count}" : prev)
  end
end
puts result
```
:::


``` text:ÂúßÁ∏ÆÂæå
#70@#23H23#24@#18A34#18@#14R12#8A22#14@#11D12#11A25#11@#9H12#12A28#9@#7R12#8A36#7@#5D13#6A41#5@#4H13#9A40#4@#3R14#11A39#3@#2D14#15A37#2@#2H15#18A33#2@#R16#22A30#@#D17#24A27#@#H19#26A23#@#2R20#27A19#2@#2D22#27A17#2@#3H24#25A15#3@#4R29#20A13#4@#5D33#14A13#5@#6H57#7@#8A54#8@#11R48#11@#13A44#13@#17D36#17@#22A26#22@#70
```

ÊîπË°å„ÅØ`@`„ÄÅ„Çπ„Éö„Éº„Çπ„ÅØ„Ç¢„É´„Éï„Ç°„Éô„ÉÉ„Éà„ÅßË°®„Åó„Å¶„ÅÑ„Åæ„Åô^[ÂÆü„ÅØ„Ç¢„É´„Éï„Ç°„Éô„ÉÉ„Éà„ÅØHARADA„ÅåÈ†ÜÁï™„Å´Âá∫„Å¶„Åè„Çã„Çà„ÅÜ„Å´„Å™„Å£„Å¶„ÅÑ„Åæ„Åô]„ÄÇ
„Åæ„Åü„ÄÅ„Åì„Çå„ÅÆÂæ©ÂÖÉ„Ç¢„É´„Ç¥„É™„Ç∫„É†„ÇÇ‰Ωú„Å£„Å¶„Åä„Åç„Åæ„Åô„ÄÇ

„Ç¢„Çπ„Ç≠„Éº„Ç¢„Éº„Éà„ÅÆÊ∫ñÂÇô„ÅØ„Åì„Åì„Åæ„Åß„Åß„Åô„ÄÇ

```ruby:quine.gen.rb
eval$s=%w(
s=%(eval$s=%w(#{$s})*"");
#„Åì„Åì„Å´ÊàêÂΩ¢Áî®„ÅÆ„Éó„É≠„Ç∞„É©„É†„ÇíÊõ∏„Åè
)*""
```
„Ç¢„Çπ„Ç≠„Éº„Ç¢„Éº„ÉàQuine„Çí‰Ωú„Çã„Å´„ÅØ„ÄÅ‰∏ä„ÅÆ„Éó„É≠„Ç∞„É©„É†„ÅÆÈÅ©Âàá„Å™ÈÉ®ÂàÜ„Å´ÊàêÂΩ¢Áî®„ÅÆ„Ç≥„Éº„Éâ„ÇíÂÖ•„Çå„Çå„Å∞ËâØ„ÅÑ„Åß„Åô„ÄÇ„Åì„Åì„Å´ÂúßÁ∏ÆÂæå„ÅÆÊñáÂ≠óÂàó„Å®Âæ©ÂÖÉ„Ç¢„É´„Ç¥„É™„Ç∫„É†„ÇíÊõ∏„ÅÑ„Å¶ÂÆüË°å„Åô„Çã„Å®„ÄÅÂÜíÈ†≠„ÅßÁ§∫„Åó„Åü„Ç¢„Çπ„Ç≠„Éº„Ç¢„Éº„ÉàQuine„ÅåÂæó„Çâ„Çå„Åæ„Åô^[Â§âÊï∞Âêç„ÇíÂ§â„Åà„Å™„Åå„ÇâÊñáÂ≠óÊï∞„ÇíË™øÊï¥„Åó„Åæ„Åó„Åü]„ÄÇ

:::details Quine.gen.rb(ÂÆåÂÖ®Áâà)
```ruby:quine.gen.rb
eval$s=%w(
s=%(eval$s=%w(#{$s})*"");
f=->n{s.slice!(0,n)};
fish="#70@#23H23#24@#18A34#18@#14R12#8A22#14@#11D12#11A25#11@#9H12#12A28#9@#7R12#8A36#7@#5D13#6A41#5@#4H13#9A40#4@#3R14#11A39#3@#2D14#15A37#2@#2H15#18A33#2@#R16#22A30#@#D17#24A27#@#H19#26A23#@#2R20#27A19#2@#2D22#27A17#2@#3H24#25A15#3@#4R29#20A13#4@#5D33#14A13#5@#6H57#7@#8A54#8@#11R48#11@#13A44#13@#17D36#17@#22A26#22@#70";
output = "";
i = 0;
len=fish.size;
i=0;
len.times{
  c = fish[i];
  if(c!='@'&&c!='#');
    j = i + 1;
    len = "";
    (fish.size - j).times{|k|
      if(!(fish[j] =~ /[0-9]/));
        break;
      end;
      len << fish[j];
      j += 1;
    };
    count = len.to_i;
    print(32.chr * count);
    i = j;
    elsif(c == "@");
    print("\n");
    i += 1;
  else;
    j = i + 1;
    l = "";
    (fish.size - j).times{|k|
      if(!(fish[j] =~ /[0-9]/));
        break;
      end;
      l << fish[j];
      j += 1;
    };
    len = l.to_i;
    print(f[len]);
    i = j;
  end;
};
puts();#This_program_is_a_Ruby_quine.___##arad166##Kento_Harada####
)*""
```
:::


```shell-session
harada@pc:~/projects/quine/prof-quine$ ruby quine.gen.rb > quine.rb
harada@pc:~/projects/quine/prof-quine$ ruby quine.rb > output.rb
harada@pc:~/projects/quine/prof-quine$ diff -s quine.rb output.rb
Files quine.rb and output.rb are identical
```
Quine„Å´„Å™„Å£„Å¶„ÅÑ„Çã„Çà„ÅÜ„Åß„Åô„ÄÇ

# ÊÑüÊÉ≥
„Ç¢„Çπ„Ç≠„Éº„Ç¢„Éº„ÉàQuine„ÅØÊï∑Â±Ö„ÅåÈ´ò„ÅÑ„Ç§„É°„Éº„Ç∏„Åå„ÅÇ„Çä„Åæ„Åó„Åü„Åå„ÄÅ„Åì„ÅÆÁ®ãÂ∫¶„Åß„ÅÇ„Çå„Å∞ÊÄù„Å£„Åü„Çà„ÇäÁ∞°Âçò„Å´‰Ωú„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åó„Åü„ÄÇ„Çà„ÇäËä∏Ë°ìÁÇπ„ÅÆÈ´ò„ÅÑQuine„Åå‰Ωú„Çå„Çã„Çà„ÅÜ„ÄÅÁ≤æÈÄ≤„ÇíÁ∂ö„Åë„Åü„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ